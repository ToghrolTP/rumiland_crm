{% extends "base.html" %} {% block title %}ูุฑุงุด {{ customer.full_name }}{%
endblock %} {% block content %}
<div class="page-header">
    <div class="page-title">
        <h1>ูุฑุงุด ูุดุชุฑ</h1>
        <span class="badge badge-info">#{{ customer.id }}</span>
    </div>
</div>

<div class="card">
    <form method="POST" action="/edit/{{ customer.id }}">
        <div class="form-group">
            <label for="full_name" class="form-label">ูุงู ฺฉุงูู *</label>
            <input
                type="text"
                id="full_name"
                name="full_name"
                class="form-input"
                value="{{ customer.full_name }}"
                required
                autofocus
            />
        </div>

        <div class="form-group">
            <label for="company" class="form-label">ุดุฑฺฉุช *</label>
            <input
                type="text"
                id="company"
                name="company"
                class="form-input"
                value="{{ customer.company }}"
                required
            />
        </div>

        <div class="form-group">
            <label for="email" class="form-label">
ุงูู
                <span class="form-label-badge" id="email-status"></span>
            </label>
            <input
                type="email"
                id="email"
                name="email"
                class="form-input"
                value="{{ customer.email }}"
                autocomplete="email"
                spellcheck="false"
            />
            <p class="form-hint">
                ุขุฏุฑุณ ุงูู ุจุงุฏ ุดุงูู @ ู ูุงู ุฏุงููู ุจุงุดุฏ (ูุซุงู: info@sherkat.com)
            </p>
            <p class="form-hint keyboard-hint">
                ๐ก ูฺฉุชู: ุงูู ุฑุง ุจุง ฺฉุจูุฑุฏ ุงูฺฏูุณ ุชุงูพ ฺฉูุฏ
            </p>
            <p class="form-error" id="email-error" style="display: none">
                ูุฑูุช ุงูู ูุงุฏุฑุณุช ุงุณุช
            </p>
            <div
                id="email-suggestions"
                class="email-suggestions"
                style="display: none"
            >
                <p class="suggestion-label">ุขุง ููุธูุฑุชุงู ุงู ุงุณุชุ</p>
                <button
                    type="button"
                    class="suggestion-btn"
                    id="email-suggestion"
                ></button>
            </div>
        </div>

        <div class="form-group">
            <label for="phone_number" class="form-label">
                ุดูุงุฑู ุชููู *
                <span class="form-label-badge" id="phone-status"></span>
            </label>
            <input
                type="tel"
                id="phone_number"
                name="phone_number"
                class="form-input"
                value="{{ customer.phone_number }}"
                placeholder="0912 345 6789"
                maxlength="14"
                required
            />
            <p class="form-hint">
                ุดูุงุฑู ููุจุงู (ูุซุงู: 0912 345 6789) ุง ุชููู ุซุงุจุช (ูุซุงู: 021 8844
                5566) ุฑุง ูุงุฑุฏ ฺฉูุฏ
            </p>
            <details class="form-details">
                <summary>ุฑุงูููุง ฺฉุฏูุง ุดูุฑูุง</summary>
                <div class="area-codes">
                    <span>ุชูุฑุงู: 021</span>
                    <span>ฺฉุฑุฌ: 026</span>
                    <span>ุงุตููุงู: 031</span>
                    <span>ุชุจุฑุฒ: 041</span>
                    <span>ูุดูุฏ: 051</span>
                    <span>ุดุฑุงุฒ: 071</span>
                    <span>ุงููุงุฒ: 061</span>
                </div>
            </details>
            <p class="form-error" id="phone-error" style="display: none">
                ุดูุงุฑู ุชููู ูุงูุนุชุจุฑ ุงุณุช
            </p>
        </div>
        
        <div class="form-group">
            <label for="sales_count" class="form-label">ุชุนุฏุงุฏ ูุฑูุด</label>
            <input
                type="number"
                id="sales_count"
                name="sales_count"
                class="form-input"
                value="{{ customer.sales_count }}"
                min="0" required>
        </div>

        <div class="form-group">
            <label for="job_title" class="form-label">ุณูุช ุดุบู</label>
            <input
                type="text"
                id="job_title"
                name="job_title"
                class="form-input"
                value="{{ customer.job_title }}"
            />
        </div>
        
        <div class="form-group">
            <label for="city" class="form-label">ุดูุฑ</label>
            <select name="city" id="city" class="form-input">
                <option value="" {% if customer.city.is_empty() %}selected{% endif %}>ุงูุชุฎุงุจ ฺฉูุฏ</option>
                {% for city_option in cities %}
                    <option value="{{ city_option.as_str() }}" {% if customer.city == city_option.as_str() %}selected{% endif %}>
                        {{ city_option.display_name() }}
                    </option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="address" class="form-lable">ุขุฏุฑุณ</label>
            <input type="text" id="address" name="address" class="form-input" value="{{ customer.address }}">
        </div>

        <div class="form-group">
            <label for="notes" class="form-label">ุงุฏุฏุงุดุชโูุง</label>
            <textarea id="notes" name="notes" class="form-textarea">
{{ customer.notes }}</textarea
            >
        </div>

        <div
            class="form-group"
            style="
                display: flex;
                gap: var(--space-sm);
                margin-top: var(--space-xl);
            "
        >
            <button
                type="submit"
                class="btn btn-primary btn-lg"
                style="flex: 1"
                id="submit-btn"
            >
                <span class="btn-content">
                    <span class="btn-icon">๐พ</span>
                    <span class="btn-text">ุฐุฎุฑู ุชุบุฑุงุช</span>
                </span>
                <span class="btn-loading" style="display: none">
                    <span class="spinner"></span>
                    <span>ุฏุฑ ุญุงู ุฐุฎุฑู...</span>
                </span>
            </button>
            <a
                href="/customer/{{ customer.id }}"
                class="btn btn-ghost btn-lg"
                id="cancel-btn"
            >
                ุงูุตุฑุงู
            </a>
        </div>
    </form>

    <div class="form-overlay" id="form-overlay" style="display: none">
        <div class="overlay-content">
            <div class="spinner-large"></div>
            <p>ุฏุฑ ุญุงู ุจูโุฑูุฒุฑุณุงู ุงุทูุงุนุงุช...</p>
        </div>
    </div>
</div>

<script src="/static/js/customer-form.js" type="text/javascript"></script>
{% endblock %}